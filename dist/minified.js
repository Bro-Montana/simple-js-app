let pokemonRepository=function(){let g=[],a=document.querySelector("#pokemonModal");function b(){return g}function c(a){if("object"==typeof a&&"name"in a&&"detailsUrl"in a){var b;b=a,g.push(b)}else alert("Pokemon not valid")}function d(a){if("string"!=typeof a){alert("Inputted pokemon name is not a string!");return}return g.filter(function(b){let c=b.name.toUpperCase(),d=a.toUpperCase();return c.includes(d)})}function h(a){e(a).then(function(){i(a)})}function e(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.frontImage=b.sprites.front_default,a.backImage=b.sprites.back_default,a.height=b.height,a.weight=b.weight,a.types=b.types,a.abilities=b.abilities}).catch(function(a){console.error(a)})}function i(a){let c=$(".modal-title"),b=$(".modal-body");$(".modal-header"),c.empty(),b.empty();let f=$("<h1>"+a.name+"</h1>"),d=$('<img class="modal-img" style="width:50%">');d.attr("src",a.frontImage);let e=$('<img class="modal-img" style="width:50%">');e.attr("src",a.backImage);let g=$("<p>height: "+a.height+"</p>"),h=$("<p>weight: "+a.weight+"</p>"),i=$("<p>types: "+a.types.map(a=>a.type.name).join(", ")+"</p>"),j=$("<p>abilities: "+a.abilities.map(a=>a.ability.name).join(", ")+"</p>");c.append(f),b.append(d),b.append(e),b.append(g),b.append(h),b.append(i),b.append(j)}let j=null,k=!1;a.addEventListener("pointerdown",function(a){k=!0,j=a.pageX}),a.addEventListener("pointerup",function(a){if(k=!1,Math.abs(a.pageX-j)>200){if(a.pageX-j<0){let b=g.indexOf(null);b===g.length-1||h(g[b+1]),j=null}else if(a.pageX-j>0){let c=g.indexOf(null);0===c||h(g[c-1]),j=null}}else j=null});let f=document.querySelector('input[type="text"]');return f.addEventListener("input",function(){let a=document.querySelector(".container-fluid");if(""===f.value){for(;a.firstChild;)a.removeChild(a.firstChild);pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})}else{for(;a.firstChild;)a.removeChild(a.firstChild);d(f.value).forEach(function(a){pokemonRepository.addListItem(a)})}}),{getAll:b,addv:c,find:d,addListItem:function(d){let e=document.querySelector(".container-fluid"),b=document.createElement("div"),c=document.createElement("div"),a=document.createElement("button");b.classList.add("row","align-content-center","list-group-item","bg-dark"),b.setAttribute("style","height: 100px"),c.classList.add("col","d-flex","justify-content-center","m-2"),a.innerText=d.name,a.classList.add("btn","btn-danger","btn-lg","w-50"),a.setAttribute("type","button"),a.setAttribute("style","height: 75px"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#pokemonModal"),c.appendChild(a),b.appendChild(c),e.appendChild(b),function(a,b){a.addEventListener("click",function(){h(b)})}(a,d)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=1126").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){c({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:e}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
